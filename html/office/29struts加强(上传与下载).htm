<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=gb2312">
<meta name=Generator content="Microsoft Word 15 (filtered)">
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:宋体;
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:Cambria;
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:"\@宋体";
	panose-1:2 1 6 0 3 1 1 1 1 1;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:10.5pt;
	font-family:"Calibri",sans-serif;}
h1
	{mso-style-link:"标题 1 Char";
	margin-top:17.0pt;
	margin-right:0cm;
	margin-bottom:16.5pt;
	margin-left:0cm;
	text-align:justify;
	text-justify:inter-ideograph;
	line-height:240%;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Calibri",sans-serif;
	font-weight:bold;}
h2
	{mso-style-link:"标题 2 Char";
	margin-top:13.0pt;
	margin-right:0cm;
	margin-bottom:13.0pt;
	margin-left:0cm;
	text-align:justify;
	text-justify:inter-ideograph;
	line-height:173%;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:"Cambria",serif;
	font-weight:bold;}
h3
	{mso-style-link:"标题 3 Char";
	margin-top:13.0pt;
	margin-right:0cm;
	margin-bottom:13.0pt;
	margin-left:0cm;
	text-align:justify;
	text-justify:inter-ideograph;
	line-height:173%;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:"Calibri",sans-serif;
	font-weight:bold;}
h4
	{mso-style-link:"标题 4 Char";
	margin-top:14.0pt;
	margin-right:0cm;
	margin-bottom:14.5pt;
	margin-left:0cm;
	text-align:justify;
	text-justify:inter-ideograph;
	line-height:156%;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Cambria",serif;
	font-weight:bold;}
p.MsoCommentText, li.MsoCommentText, div.MsoCommentText
	{mso-style-link:"批注文字 Char";
	margin:0cm;
	margin-bottom:.0001pt;
	font-size:10.5pt;
	font-family:"Calibri",sans-serif;}
p.MsoHeader, li.MsoHeader, div.MsoHeader
	{mso-style-link:"页眉 Char";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	layout-grid-mode:char;
	border:none;
	padding:0cm;
	font-size:9.0pt;
	font-family:"Calibri",sans-serif;}
p.MsoFooter, li.MsoFooter, div.MsoFooter
	{mso-style-link:"页脚 Char";
	margin:0cm;
	margin-bottom:.0001pt;
	layout-grid-mode:char;
	font-size:9.0pt;
	font-family:"Calibri",sans-serif;}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:#954F72;
	text-decoration:underline;}
p.MsoDocumentMap, li.MsoDocumentMap, div.MsoDocumentMap
	{mso-style-link:"文档结构图 Char";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:9.0pt;
	font-family:宋体;}
p
	{margin-right:0cm;
	margin-left:0cm;
	font-size:12.0pt;
	font-family:宋体;}
code
	{font-family:宋体;}
pre
	{mso-style-link:"HTML 预设格式 Char";
	margin:0cm;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:宋体;}
p.MsoCommentSubject, li.MsoCommentSubject, div.MsoCommentSubject
	{mso-style-link:"批注主题 Char";
	margin:0cm;
	margin-bottom:.0001pt;
	font-size:10.5pt;
	font-family:"Calibri",sans-serif;
	font-weight:bold;}
p.MsoAcetate, li.MsoAcetate, div.MsoAcetate
	{mso-style-link:"批注框文本 Char";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:9.0pt;
	font-family:"Calibri",sans-serif;}
p.MsoListParagraph, li.MsoListParagraph, div.MsoListParagraph
	{margin:0cm;
	margin-bottom:.0001pt;
	text-indent:21.0pt;
	font-size:12.0pt;
	font-family:宋体;}
span.Char
	{mso-style-name:"页眉 Char";
	mso-style-link:页眉;}
span.Char0
	{mso-style-name:"页脚 Char";
	mso-style-link:页脚;}
span.1Char
	{mso-style-name:"标题 1 Char";
	mso-style-link:"标题 1";
	font-weight:bold;}
span.Char1
	{mso-style-name:"文档结构图 Char";
	mso-style-link:文档结构图;
	font-family:宋体;}
span.2Char
	{mso-style-name:"标题 2 Char";
	mso-style-link:"标题 2";
	font-family:"Cambria",serif;
	font-weight:bold;}
span.3Char
	{mso-style-name:"标题 3 Char";
	mso-style-link:"标题 3";
	font-weight:bold;}
span.4Char
	{mso-style-name:"标题 4 Char";
	mso-style-link:"标题 4";
	font-family:"Cambria",serif;
	font-weight:bold;}
span.HTMLChar
	{mso-style-name:"HTML 预设格式 Char";
	mso-style-link:"HTML 预设格式";
	font-family:宋体;}
span.Char2
	{mso-style-name:"批注文字 Char";
	mso-style-link:批注文字;}
span.Char3
	{mso-style-name:"批注主题 Char";
	mso-style-link:批注主题;
	font-weight:bold;}
span.Char4
	{mso-style-name:"批注框文本 Char";
	mso-style-link:批注框文本;}
 /* Page Definitions */
 @page WordSection1
	{size:595.3pt 841.9pt;
	margin:36.0pt 36.0pt 36.0pt 36.0pt;
	layout-grid:15.6pt;}
div.WordSection1
	{page:WordSection1;}
 /* List Definitions */
 ol
	{margin-bottom:0cm;}
ul
	{margin-bottom:0cm;}
-->
</style>

</head>

<body lang=ZH-CN link=blue vlink="#954F72" style='text-justify-trim:punctuation'>

<div class=WordSection1 style='layout-grid:15.6pt'>

<p class=MsoNormal><span style='font-family:宋体'>回顾重点内容：</span><span lang=EN-US>&nbsp;&nbsp;&nbsp; </span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;
struts2</span><span style='font-family:宋体'>开发步骤：</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1</span></span><span
style='font-family:宋体;color:red'>）导入</span><span lang=EN-US style='color:red'>jar</span><span
style='font-family:宋体;color:red'>包</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2</span><span
style='font-family:宋体;color:red'>）在</span><span lang=EN-US style='color:red'>web.xml</span><span
style='font-family:宋体;color:red'>配置全局过滤器（启动时候创建）</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3</span><span
style='font-family:宋体'>）写业务的</span><span lang=EN-US>Action</span><span
style='font-family:宋体'>类</span><span lang=EN-US> </span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4</span><span
style='font-family:宋体'>）在</span><span lang=EN-US>src</span><span
style='font-family:宋体'>目录下写</span><span lang=EN-US>struts.xml</span><span
style='font-family:宋体'>文件，在这个文件配置</span><span lang=EN-US>action</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span style='font-family:宋体'>大纲：</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; struts2</span><span
style='font-family:宋体'>的配置相关：</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1</span><span
style='font-family:宋体'>）</span><span lang=EN-US>struts2</span><span
style='font-family:宋体'>的</span><span lang=EN-US>Action</span><span
style='font-family:宋体'>三种使用方式</span><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2</span><span
style='font-family:宋体'>）</span><span lang=EN-US>struts2</span><span
style='font-family:宋体'>的路径通配符</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3</span><span
style='font-family:宋体'>）</span><span lang=EN-US>struts2</span><span
style='font-family:宋体'>的常量配置</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4</span><span
style='font-family:宋体'>）</span><span lang=EN-US>struts2</span><span
style='font-family:宋体'>的全局视图配置和默认配置</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 5</span><span
style='font-family:宋体'>）</span><span lang=EN-US>Action</span><span
style='font-family:宋体'>的属性注入</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; struts2</span><span
style='font-family:宋体'>的核心业务功能：</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1</span><span
style='font-family:宋体'>）</span><span lang=EN-US>sruts2</span><span
style='font-family:宋体'>的数据共享的三种方式</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2</span><span
style='font-family:宋体'>）请求参数数据的封装</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3</span><span
style='font-family:宋体'>）自定义类型转换</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4</span><span
style='font-family:宋体'>）文件上传和下载</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h1><span lang=EN-US>1 struts2</span><span style='font-family:宋体'>的</span><span
lang=EN-US>Action</span><span style='font-family:宋体'>三种使用方式</span></h1>

<h2><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1.1
</span><span style='font-family:宋体'>第一种方式，不实现</span><span lang=EN-US>Action</span><span
style='font-family:宋体'>接口</span></h2>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none'>
 <tr>
  <td width=712 valign=top style='width:534.1pt;border:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'>/**</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'>&nbsp;* </span><span
  style='font-family:宋体;color:#3F5FBF'>第一种方式：不需要实现或继承任何接口或类</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'>&nbsp;* </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F9FBF'>@author</span></b><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'> APPle</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'>&nbsp;*</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'>&nbsp;*/</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>public</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'> </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>class</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'> UserAction2 {</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp; </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>public</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'> String <span
  style='background:silver'>login</span>()</span><b><span lang=EN-US
  style='font-family:"Courier New";color:#7F0055'>throws</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'> Exception{</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System.</span><i><span
  lang=EN-US style='font-family:"Courier New";color:#0000C0'>out</span></i><span
  lang=EN-US style='font-family:"Courier New";color:black'>.println(</span><span
  lang=EN-US style='font-family:"Courier New";color:#2A00FF'>&quot;UserAction2.login()&quot;</span><span
  lang=EN-US style='font-family:"Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>return</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'> </span><span
  lang=EN-US style='font-family:"Courier New";color:#2A00FF'>&quot;success&quot;</span><span
  lang=EN-US style='font-family:"Courier New";color:black'>;</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp; }</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp; </span></p>
  <p class=MsoNormal><span lang=EN-US style='font-family:"Courier New";
  color:black'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<h2><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1.2</span><span
style='font-family:宋体'>第二种方式，实现</span><span lang=EN-US>Action</span><span
style='font-family:宋体'>接口</span><span lang=EN-US>&nbsp; </span></h2>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none'>
 <tr>
  <td width=712 valign=top style='width:534.1pt;border:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'>/**</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'>&nbsp;* </span><span
  style='font-family:宋体;color:#3F5FBF'>第二种方式：实现</span><span lang=EN-US
  style='font-family:"Courier New";color:#3F5FBF'>Action</span><span
  style='font-family:宋体;color:#3F5FBF'>接口</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'>&nbsp;*  1)</span><span
  style='font-family:宋体;color:#3F5FBF'>定义了默认的</span><span lang=EN-US
  style='font-family:"Courier New";color:#3F5FBF'>execute</span><span
  style='font-family:宋体;color:#3F5FBF'>方法的标准</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'>&nbsp;*&nbsp; 2</span><span
  style='font-family:宋体;color:#3F5FBF'>）提供了项目中常用的视图标记</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'>&nbsp;* </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F9FBF'>@author</span></b><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'> APPle</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'>&nbsp;*</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'>&nbsp;*/</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>public</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'> </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>class</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'> UserAction </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>implements</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'> Action {</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp; </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>public</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'> String login() </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>throws</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'> Exception {</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System.</span><i><span
  lang=EN-US style='font-family:"Courier New";color:#0000C0'>out</span></i><span
  lang=EN-US style='font-family:"Courier New";color:black'>.println(</span><span
  lang=EN-US style='font-family:"Courier New";color:#2A00FF'>&quot;</span><span
  style='font-family:宋体;color:#2A00FF'>执行了</span><span lang=EN-US
  style='font-family:"Courier New";color:#2A00FF'>UserAction</span><span
  style='font-family:宋体;color:#2A00FF'>的</span><span lang=EN-US
  style='font-family:"Courier New";color:#2A00FF'>login</span><span
  style='font-family:宋体;color:#2A00FF'>方法</span><span lang=EN-US
  style='font-family:"Courier New";color:#2A00FF'>&quot;</span><span
  lang=EN-US style='font-family:"Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>return</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'> </span><i><span
  lang=EN-US style='font-family:"Courier New";color:#0000C0;background:silver'>SUCCESS</span></i><span
  lang=EN-US style='font-family:"Courier New";color:black'>;</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp; }</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp; </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>public</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'> String execute() </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>throws</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'> Exception {</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>return</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'> </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>null</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'>;</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp; }</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal><span lang=EN-US style='font-family:"Courier New";
  color:black'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h2><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1.3
</span><span style='font-family:宋体'>第三种方式，</span> <span style='font-family:
宋体'>继承</span><span lang=EN-US>ActionSupport</span><span style='font-family:
宋体'>类（推荐）</span></h2>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none'>
 <tr>
  <td width=712 valign=top style='width:534.1pt;border:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'>/**</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'>&nbsp;* </span><span
  style='font-family:宋体;color:#3F5FBF'>第三种方式：</span><span style='font-family:
  "Courier New";color:#3F5FBF'> </span><span style='font-family:宋体;color:#3F5FBF'>继承</span><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'>ActionSupport</span><span
  style='font-family:宋体;color:#3F5FBF'>类</span><span lang=EN-US
  style='font-family:"Courier New";color:#3F5FBF'>(</span><span
  style='font-family:宋体;color:#3F5FBF'>推荐使用</span><span lang=EN-US
  style='font-family:"Courier New";color:#3F5FBF'>)</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'>&nbsp;* &nbsp;&nbsp;&nbsp; </span><span
  style='font-family:宋体;color:#3F5FBF'>好处：</span><span style='font-family:"Courier New";
  color:#3F5FBF'> </span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'>&nbsp;* &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1</span><span
  style='font-family:宋体;color:#3F5FBF'>）提供了常用的视图标记</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'>&nbsp;* &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2</span><span
  style='font-family:宋体;color:#3F5FBF'>）提供了数据校验功能</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'>&nbsp;* </span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'>&nbsp;* </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F9FBF'>@author</span></b><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'> APPle</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'>&nbsp;*</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'>&nbsp;*/</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>public</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'> </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>class</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'> <u>UserAction3</u> </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>extends</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'> ActionSupport{</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp; </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>public</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'> String login()</span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>throws</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'> Exception{</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System.</span><i><span
  lang=EN-US style='font-family:"Courier New";color:#0000C0'>out</span></i><span
  lang=EN-US style='font-family:"Courier New";color:black'>.println(</span><span
  lang=EN-US style='font-family:"Courier New";color:#2A00FF'>&quot;UserAction3.login()&quot;</span><span
  lang=EN-US style='font-family:"Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>return</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'> </span><i><span
  lang=EN-US style='font-family:"Courier New";color:#0000C0;background:silver'>SUCCESS</span></i><span
  lang=EN-US style='font-family:"Courier New";color:black'>;</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp; }</span></p>
  <p class=MsoNormal><span lang=EN-US style='font-family:"Courier New";
  color:black'>}</span></p>
  </td>
 </tr>
</table>

<h1><span lang=EN-US>2 </span><span style='font-family:宋体'>路径通配符</span></h1>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none'>
 <tr>
  <td width=712 valign=top style='width:534.1pt;border:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-size:14.0pt;font-family:"Courier New";color:black'>&nbsp;&nbsp; </span><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'>&lt;!-- </span><span
  style='font-family:宋体;color:#3F5FBF'>一个模块（</span><span lang=EN-US
  style='font-family:"Courier New";color:#3F5FBF'>Action</span><span
  style='font-family:宋体;color:#3F5FBF'>对象）使用一个</span><span lang=EN-US
  style='font-family:"Courier New";color:#3F5FBF'>action</span><span
  style='font-family:宋体;color:#3F5FBF'>配置</span><span lang=EN-US
  style='font-family:"Courier New";color:#3F5FBF'> --&gt;</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'>&lt;!-- * (</span><span
  style='font-family:宋体;color:#3F5FBF'>星号</span><span lang=EN-US
  style='font-family:"Courier New";color:#3F5FBF'>) :</span><span
  style='font-family:宋体;color:#3F5FBF'>表示路径的通配符。</span><span lang=EN-US
  style='font-family:"Courier New";color:#3F5FBF'>&nbsp;&nbsp; </span><span
  style='font-family:宋体;color:#3F5FBF'>使用通配符的内容：</span><span lang=EN-US
  style='font-family:"Courier New";color:#3F5FBF'>&nbsp;&nbsp; {1}&nbsp; </span><span
  style='font-family:宋体;color:#3F5FBF'>（表示获取第一个通配符的实际内容）</span><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'>&nbsp; </span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
  style='font-family:宋体;color:#3F5FBF'>好处：</span><span style='font-family:"Courier New";
  color:#3F5FBF'> </span><span style='font-family:宋体;color:#3F5FBF'>大大地减少</span><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'>action</span><span
  style='font-family:宋体;color:#3F5FBF'>的配置</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; --&gt;</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'>&lt;!-- </span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;action
  name=&quot;user_*&quot; class=&quot;gz.itcast.b_path.UserAction&quot;
  method=&quot;{1}&quot;&gt;</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;result
  name=&quot;{1}&quot;&gt;/{1}.<u>jsp</u>&lt;/result&gt;</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/action&gt;</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;--&gt;</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;</span><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'>&lt;!-- </span><span
  style='font-family:宋体;color:#3F5FBF'>多个模块使用一个</span><span lang=EN-US
  style='font-family:"Courier New";color:#3F5FBF'>action</span><span
  style='font-family:宋体;color:#3F5FBF'>配置</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;</span><span
  style='font-family:宋体;color:#3F5FBF'>约定前提：</span><span lang=EN-US
  style='font-family:"Courier New";color:#3F5FBF'>&nbsp; </span><span
  style='font-family:宋体;color:#3F5FBF'>第一个</span><span lang=EN-US
  style='font-family:"Courier New";color:#3F5FBF'>*</span><span
  style='font-family:宋体;color:#3F5FBF'>代表模块，第二个代表方法</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; User_login</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;
  --&gt;</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;</span><span
  lang=EN-US style='font-family:"Courier New";color:teal'>&lt;</span><span
  lang=EN-US style='font-family:"Courier New";color:#3F7F7F'>action</span><span
  lang=EN-US style='font-family:"Courier New"'> <span style='color:#7F007F'>name</span><span
  style='color:black'>=</span><i><span style='color:#2A00FF'>&quot;*_*&quot;</span></i>
  <span style='color:#7F007F'>class</span><span style='color:black'>=</span><i><span
  style='color:#2A00FF'>&quot;gz.itcast.b_path.{1}Action&quot;</span></i> <span
  style='color:#7F007F'>method</span><span style='color:black'>=</span><i><span
  style='color:#2A00FF'>&quot;{2}&quot;</span></i><span style='color:teal'>&gt;</span></span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; </span><span
  lang=EN-US style='font-family:"Courier New";color:teal'>&lt;</span><span
  lang=EN-US style='font-family:"Courier New";color:#3F7F7F'>result</span><span
  lang=EN-US style='font-family:"Courier New"'> <span style='color:#7F007F'>name</span><span
  style='color:black'>=</span><i><span style='color:#2A00FF'>&quot;{2}&quot;</span></i><span
  style='color:teal'>&gt;</span><span style='color:black'>/{1}/{2}.<u>jsp</u></span><span
  style='color:teal'>&lt;/</span><span style='color:#3F7F7F'>result</span><span
  style='color:teal'>&gt;</span></span></p>
  <p class=MsoNormal><span lang=EN-US style='font-family:"Courier New";
  color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;</span><span
  lang=EN-US style='font-family:"Courier New";color:teal'>&lt;/</span><span
  lang=EN-US style='font-family:"Courier New";color:#3F7F7F'>action</span><span
  lang=EN-US style='font-family:"Courier New";color:teal'>&gt;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h1><span lang=EN-US>3 strus2</span><span style='font-family:宋体'>的常量配置</span></h1>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; struts2</span><span
style='font-family:宋体'>的常量就是用于在</span><span lang=EN-US>strut2</span><span
style='font-family:宋体'>的程序运行过程中使用的一些常量参数。</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none'>
 <tr>
  <td width=712 valign=top style='width:534.1pt;border:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp; </span><span
  style='font-family:宋体'>指定默认编码集</span><span lang=EN-US>,</span><span
  style='font-family:宋体'>作用于</span><span lang=EN-US>HttpServletRequest</span><span
  style='font-family:宋体'>的</span><span lang=EN-US>setCharacterEncoding</span><span
  style='font-family:宋体'>方法</span> <span style='font-family:宋体'>和</span><span
  lang=EN-US>freemarker </span><span style='font-family:宋体'>、</span><span
  lang=EN-US>velocity</span><span style='font-family:宋体'>的输出</span><span
  lang=EN-US> </span></p>
  <p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp; <span style='color:red'>&nbsp;&lt;constant
  name=&quot;struts.i18n.encoding&quot; value=&quot;UTF-8&quot;/&gt;</span></span></p>
  <p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp; </span><span
  style='font-family:宋体'>自定义后缀修改常量</span><span lang=EN-US> </span></p>
  <p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp; <span style='color:red'>&nbsp;&lt;constant
  name=&quot;struts.action.extension&quot; value=&quot;do&quot;/&gt;</span></span></p>
  <p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp; </span><span
  style='font-family:宋体'>设置浏览器是否缓存静态内容</span><span lang=EN-US>,</span><span
  style='font-family:宋体'>默认值为</span><span lang=EN-US>true(</span><span
  style='font-family:宋体'>生产环境下使用</span><span lang=EN-US>),</span><span
  style='font-family:宋体'>开发阶段最好关闭</span> </p>
  <p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp; &lt;constant
  name=&quot;struts.serve.static.browserCache&quot;
  value=&quot;false&quot;/&gt;</span></p>
  <p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp; </span><span
  style='font-family:宋体'>当</span><span lang=EN-US>struts</span><span
  style='font-family:宋体'>的配置文件修改后</span><span lang=EN-US>,</span><span
  style='font-family:宋体'>系统是否自动重新加载该文件</span><span lang=EN-US>,</span><span
  style='font-family:宋体'>默认值为</span><span lang=EN-US>false(</span><span
  style='font-family:宋体'>生产环境下使用</span><span lang=EN-US>),</span><span
  style='font-family:宋体'>开发阶段最好打开</span> </p>
  <p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp; &lt;constant
  name=&quot;struts.configuration.xml.reload&quot; value=&quot;true&quot;/&gt;</span></p>
  <p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp; </span><span
  style='font-family:宋体'>开发模式下使用</span><span lang=EN-US>,</span><span
  style='font-family:宋体'>这样可以打印出更详细的错误信息</span> </p>
  <p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp; &lt;constant name=&quot;struts.devMode&quot;
  value=&quot;true&quot; /&gt;</span></p>
  <p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp; </span><span
  style='font-family:宋体'>默认的视图主题</span> </p>
  <p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp; &lt;constant
  name=&quot;struts.ui.theme&quot; value=&quot;simple&quot; /&gt;</span></p>
  <p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp; </span><span
  style='font-family:宋体'>与</span><span lang=EN-US>spring</span><span
  style='font-family:宋体'>集成时，指定由</span><span lang=EN-US>spring</span><span
  style='font-family:宋体'>负责</span><span lang=EN-US>action</span><span
  style='font-family:宋体'>对象的创建</span><span lang=EN-US> </span></p>
  <p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp; &lt;constant
  name=&quot;struts.objectFactory&quot; value=&quot;spring&quot; /&gt;</span></p>
  <p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp; </span><span
  style='font-family:宋体'>该属性设置</span><span lang=EN-US>Struts 2</span><span
  style='font-family:宋体'>是否支持动态方法调用，该属性的默认值是</span><span lang=EN-US>true</span><span
  style='font-family:宋体'>。如果需要关闭动态方法调用，则可设置该属性</span></p>
  <p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp; </span><span
  style='font-family:宋体'>为</span><span lang=EN-US> false</span></p>
  <p class=MsoNormal><span lang=EN-US>&nbsp; <span style='color:red'>&nbsp;&nbsp;&lt;constant
  name=&quot;struts.enable.DynamicMethodInvocation&quot;
  value=&quot;false&quot;/&gt;</span></span></p>
  <p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp; </span><span
  style='font-family:宋体'>上传文件的大小限制</span><span lang=EN-US> </span></p>
  <p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp; &lt;constant
  name=&quot;struts.multipart.maxSize&quot; value=“10701096&quot;/&gt;</span></p>
  <p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span style='font-family:宋体'>注意：</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>通过</span><span lang=EN-US>struts.xml</span><span
style='font-family:宋体'>文件声明</span><span lang=EN-US>&lt;constant
name=&quot;struts.action.extension&quot; value=&quot;action,do,,&quot;&gt;&lt;/constant&gt;</span><span
style='font-family:宋体'>修改常量配置。</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h1><span lang=EN-US>4 struts2</span><span style='font-family:宋体'>的全局视图配置和默认配置</span></h1>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4.1
</span><span style='font-family:宋体'>全局视图作用：</span> <span style='font-family:
宋体'>当该包下的所有</span><span lang=EN-US>action</span><span style='font-family:宋体'>都使用到的一些视图就是可以放到全局视图配置中</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>注意：</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>当</span><span lang=EN-US>action</span><span
style='font-family:宋体'>中也有相同名称的视图，那么</span><span lang=EN-US>action</span><span
style='font-family:宋体'>的局部视图会覆盖全局视图。</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none'>
 <tr>
  <td width=712 valign=top style='width:534.1pt;border:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'>&lt;!-- </span><span
  style='font-family:宋体;color:#3F5FBF'>全局视图配置</span><span lang=EN-US
  style='font-family:"Courier New";color:#3F5FBF'>: </span><span
  style='font-family:宋体;color:#3F5FBF'>把该包下的所有</span><span lang=EN-US
  style='font-family:"Courier New";color:#3F5FBF'>action</span><span
  style='font-family:宋体;color:#3F5FBF'>共用的视图都机集中在这里写</span><span lang=EN-US
  style='font-family:"Courier New";color:#3F5FBF'> --&gt;</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
  lang=EN-US style='font-family:"Courier New";color:teal'>&lt;</span><span
  lang=EN-US style='font-family:"Courier New";color:#3F7F7F'>global-results</span><span
  lang=EN-US style='font-family:"Courier New";color:teal'>&gt;</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
  lang=EN-US style='font-family:"Courier New";color:teal'>&lt;</span><span
  lang=EN-US style='font-family:"Courier New";color:#3F7F7F'>result</span><span
  lang=EN-US style='font-family:"Courier New"'> <span style='color:#7F007F'>name</span><span
  style='color:black'>=</span><i><span style='color:#2A00FF'>&quot;success&quot;</span></i><span
  style='color:teal'>&gt;</span><span style='color:black'>/login.jsp</span><span
  style='color:teal'>&lt;/</span><span style='color:#3F7F7F'>result</span><span
  style='color:teal'>&gt;</span></span></p>
  <p class=MsoNormal><span lang=EN-US style='font-family:"Courier New";
  color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
  lang=EN-US style='font-family:"Courier New";color:teal'>&lt;/</span><span
  lang=EN-US style='font-family:"Courier New";color:#3F7F7F'>global-results</span><span
  lang=EN-US style='font-family:"Courier New";color:teal'>&gt;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4.2
action</span><span style='font-family:宋体'>的默认配置</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none'>
 <tr>
  <td width=712 valign=top style='width:534.1pt;border:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'>&lt;!-- </span><span
  style='font-family:宋体;color:#3F5FBF'>默认配置</span><span style='font-family:
  "Courier New";color:#3F5FBF'> </span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;name:
  </span><span style='font-family:宋体;color:#3F5FBF'>必填项</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;class:
  </span><span style='font-family:宋体;color:#3F5FBF'>可选项</span><span
  style='font-family:"Courier New";color:#3F5FBF'> </span><span
  style='font-family:宋体;color:#3F5FBF'>。默认配置：</span><span lang=EN-US
  style='font-family:"Courier New";color:#3F5FBF'>&nbsp; ActionSupport</span><span
  style='font-family:宋体;color:#3F5FBF'>类</span><span lang=EN-US
  style='font-family:"Courier New";color:#3F5FBF'>&nbsp;&nbsp; </span><span
  style='font-family:宋体;color:#3F5FBF'>该类继承自</span><span lang=EN-US
  style='font-family:"Courier New";color:#3F5FBF'>struts-default </span><span
  style='font-family:宋体;color:#3F5FBF'>（</span><span lang=EN-US
  style='font-family:"Courier New";color:#3F5FBF'>&lt;default-class-<u>ref</u>
  class=&quot;com.opensymphony.xwork2.ActionSupport&quot; /&gt;</span><span
  style='font-family:宋体;color:#3F5FBF'>）</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;method:
  </span><span style='font-family:宋体;color:#3F5FBF'>可选。默认配置</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
  result:</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp; name: </span><span style='font-family:宋体;color:#3F5FBF'>可选。默认配置：</span><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'> success</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp; type: </span><span style='font-family:宋体;color:#3F5FBF'>可选。默认配置：</span><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'> dispatcher</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;--&gt;</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;</span><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'>&lt;!-- </span><span
  style='font-family:宋体;color:#3F5FBF'>全部使用默认配置的</span><span lang=EN-US
  style='font-family:"Courier New";color:#3F5FBF'>action</span><span
  style='font-family:宋体;color:#3F5FBF'>的作用</span><span style='font-family:"Courier New";
  color:#3F5FBF'> </span><span style='font-family:宋体;color:#3F5FBF'>：专门用于转发到</span><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'>WEB-INF</span><span
  style='font-family:宋体;color:#3F5FBF'>下的页面</span><span lang=EN-US
  style='font-family:"Courier New";color:#3F5FBF'> --&gt;</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;</span><span
  lang=EN-US style='font-family:"Courier New";color:teal'>&lt;</span><span
  lang=EN-US style='font-family:"Courier New";color:#3F7F7F'>action</span><span
  lang=EN-US style='font-family:"Courier New"'> <span style='color:#7F007F'>name</span><span
  style='color:black'>=</span><i><span style='color:#2A00FF'>&quot;book&quot;</span></i><span
  style='color:teal'>&gt;</span></span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; </span><span
  lang=EN-US style='font-family:"Courier New";color:teal'>&lt;</span><span
  lang=EN-US style='font-family:"Courier New";color:#3F7F7F'>result</span><span
  lang=EN-US style='font-family:"Courier New";color:teal'>&gt;</span><span
  lang=EN-US style='font-family:"Courier New";color:black'>/WEB-INF/<u>jsp</u>/login.jsp</span><span
  lang=EN-US style='font-family:"Courier New";color:teal'>&lt;/</span><span
  lang=EN-US style='font-family:"Courier New";color:#3F7F7F'>result</span><span
  lang=EN-US style='font-family:"Courier New";color:teal'>&gt;</span></p>
  <p class=MsoNormal><span lang=EN-US style='font-family:"Courier New";
  color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;</span><span
  lang=EN-US style='font-family:"Courier New";color:teal'>&lt;/</span><span
  lang=EN-US style='font-family:"Courier New";color:#3F7F7F'>action</span><span
  lang=EN-US style='font-family:"Courier New";color:teal'>&gt;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h1><span lang=EN-US>5 Action</span><span style='font-family:宋体'>的属性注入</span></h1>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>作用：</span> <span style='font-family:宋体'>如果</span><span
lang=EN-US>Action</span><span style='font-family:宋体'>对象中需要把一些经常改变的参数提取到配置文件中，那么就可以使用属性注入的方法。</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Action</span><span
style='font-family:宋体'>属性注入的步骤</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1</span><span
style='font-family:宋体'>）在</span><span lang=EN-US>Action</span><span
style='font-family:宋体'>类中声明一个成员变量，用于接收</span><span lang=EN-US>xml</span><span
style='font-family:宋体'>配置文件传入内容</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2</span><span
style='font-family:宋体'>）在</span><span lang=EN-US>Action</span><span
style='font-family:宋体'>类提供一个该变量的</span><span lang=EN-US>setter</span><span
style='font-family:宋体'>方法，该方法接收了</span><span lang=EN-US>xml</span><span
style='font-family:宋体'>配置的内容</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none'>
 <tr>
  <td width=712 valign=top style='width:534.1pt;border:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-size:14.0pt;font-family:"Courier New";color:black'>&nbsp;&nbsp; </span><span
  lang=EN-US style='font-family:"Courier New";color:#3F7F5F'>//1</span><span
  style='font-family:宋体;color:#3F7F5F'>）在</span><span lang=EN-US
  style='font-family:"Courier New";color:#3F7F5F'>action</span><span
  style='font-family:宋体;color:#3F7F5F'>中提供一个属性</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp; </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>private</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'> String </span><span
  lang=EN-US style='font-family:"Courier New";color:#0000C0'>savePath</span><span
  lang=EN-US style='font-family:"Courier New";color:black'>;</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp; </span><span
  lang=EN-US style='font-family:"Courier New";color:#3F7F5F'>//2)</span><span
  style='font-family:宋体;color:#3F7F5F'>提供属性的</span><span lang=EN-US
  style='font-family:"Courier New";color:#3F7F5F'>setter</span><span
  style='font-family:宋体;color:#3F7F5F'>方法，用于外部的</span><span lang=EN-US
  style='font-family:"Courier New";color:#3F7F5F'>action</span><span
  style='font-family:宋体;color:#3F7F5F'>的参数进行注入</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp; </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>public</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'> </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>void</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'> setSavePath(String
  savePath) {</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>this</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'>.</span><span
  lang=EN-US style='font-family:"Courier New";color:#0000C0'>savePath</span><span
  lang=EN-US style='font-family:"Courier New";color:black'> = savePath;</span></p>
  <p class=MsoNormal><span lang=EN-US style='font-family:"Courier New";
  color:black'>&nbsp;&nbsp; }</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3</span><span
style='font-family:宋体'>）在对应的</span><span lang=EN-US>struts.xml</span><span
style='font-family:宋体'>文件中，找到对应的</span><span lang=EN-US>action</span><span
style='font-family:宋体'>对象的配置，然后在</span><span lang=EN-US>action</span><span
style='font-family:宋体'>中使用</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;param
name=&quot;&quot;&gt;&lt;/param&gt; </span><span style='font-family:宋体'>这个标签来向</span><span
lang=EN-US>Action</span><span style='font-family:宋体'>对象的属性注入内容</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none'>
 <tr>
  <td width=712 valign=top style='width:534.1pt;border:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:teal'>&lt;</span><span
  lang=EN-US style='font-family:"Courier New";color:#3F7F7F'>action</span><span
  lang=EN-US style='font-family:"Courier New"'> <span style='color:#7F007F'>name</span><span
  style='color:black'>=</span><i><span style='color:#2A00FF'>&quot;upload&quot;</span></i>
  <span style='color:#7F007F'>class</span><span style='color:black'>=</span><i><span
  style='color:#2A00FF'>&quot;gz.itcast.d_ioc.UploadAction&quot; </span></i><span
  style='color:#7F007F'>method</span><span style='color:black'>=</span><i><span
  style='color:#2A00FF'>&quot;upload&quot;</span></i><span style='color:teal'>&gt;</span></span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'>&lt;!-- 3)</span><span
  style='font-family:宋体;color:#3F5FBF'>使用该配置可以往</span><span lang=EN-US
  style='font-family:"Courier New";color:#3F5FBF'>Action</span><span
  style='font-family:宋体;color:#3F5FBF'>对象的属性注入内容</span><span lang=EN-US
  style='font-family:"Courier New";color:#3F5FBF'>(</span><span
  style='font-family:宋体;color:#3F5FBF'>只要有</span><span lang=EN-US
  style='font-family:"Courier New";color:#3F5FBF'>setter</span><span
  style='font-family:宋体;color:#3F5FBF'>都可以使用</span><u><span lang=EN-US
  style='font-family:"Courier New";color:#3F5FBF'>param</span></u><span
  style='font-family:宋体;color:#3F5FBF'>进行注入</span><span lang=EN-US
  style='font-family:"Courier New";color:#3F5FBF'>)</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <u>param</u>:</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; name:
  setter</span><span style='font-family:宋体;color:#3F5FBF'>方法名。</span><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'>setSavePath -&gt;
  savePath</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;--&gt;</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
  lang=EN-US style='font-family:"Courier New";color:red'>&lt;param name=<i>&quot;savePath&quot;</i>&gt;e:/images/&lt;/param&gt;</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
  lang=EN-US style='font-family:"Courier New";color:teal'>&lt;</span><span
  lang=EN-US style='font-family:"Courier New";color:#3F7F7F'>result</span><span
  lang=EN-US style='font-family:"Courier New";color:teal'>&gt;</span><span
  lang=EN-US style='font-family:"Courier New";color:black'>/login.jsp</span><span
  lang=EN-US style='font-family:"Courier New";color:teal'>&lt;/</span><span
  lang=EN-US style='font-family:"Courier New";color:#3F7F7F'>result</span><span
  lang=EN-US style='font-family:"Courier New";color:teal'>&gt;</span></p>
  <p class=MsoNormal><span lang=EN-US style='font-family:"Courier New";
  color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
  lang=EN-US style='font-family:"Courier New";color:teal'>&lt;/</span><span
  lang=EN-US style='font-family:"Courier New";color:#3F7F7F'>action</span><span
  lang=EN-US style='font-family:"Courier New";color:teal'>&gt;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<h1><span lang=EN-US>6 sruts2</span><span style='font-family:宋体'>的数据共享的三种方式</span></h1>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>在</span><span lang=EN-US>web</span><span
style='font-family:宋体'>项目中都是使用域对象来共享数据。</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; struts2</span><span
style='font-family:宋体'>提供给开发者使用域对象来共享数据的方法一共有三种。</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h2><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 6.1
</span><span style='font-family:宋体'>第一种方式</span></h2>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ServletActionContext</span><span
style='font-family:宋体'>类</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; getRequest()
: </span><span style='font-family:宋体'>获取</span><span lang=EN-US>request</span><span
style='font-family:宋体'>对象</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; getRequest().getSession()
:</span><span style='font-family:宋体'>　获取ｓｅｓｓｉｏｎ对象</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; getServletContext()
: </span><span style='font-family:宋体'>获取</span><span lang=EN-US>ServletContext</span><span
style='font-family:宋体'>对象</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>注意：</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1</span><span
style='font-family:宋体'>）该方式依赖</span><span lang=EN-US>servlet</span><span
style='font-family:宋体'>的</span><span lang=EN-US>api</span><span
style='font-family:宋体'>，耦合比较高</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2</span><span
style='font-family:宋体'>）如果要通过域对象来获取域对象的相关信息必须使用该方式</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h2><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 6.2
</span><span style='font-family:宋体'>第二种方式</span></h2>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ActionContext</span><span
style='font-family:宋体'>类</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; getContextMap()
</span><span style='font-family:宋体'>：　获取操作</span><span lang=EN-US>request</span><span
style='font-family:宋体'>域对象数据的</span><span lang=EN-US>map</span><span
style='font-family:宋体'>集合</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
getSession() :&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; </span><span style='font-family:
宋体'>获取操作</span><span lang=EN-US>session</span><span style='font-family:宋体'>域对象数据的</span><span
lang=EN-US>map</span><span style='font-family:宋体'>集合</span><span lang=EN-US> </span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; getApplication()&nbsp;
</span><span style='font-family:宋体'>获取操作</span><span lang=EN-US>context</span><span
style='font-family:宋体'>域对象数据的</span><span lang=EN-US>map</span><span
style='font-family:宋体'>集合</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>注意：</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1</span><span
style='font-family:宋体'>）不依赖</span><span lang=EN-US>servlet</span><span
style='font-family:宋体'>的</span><span lang=EN-US>api</span><span
style='font-family:宋体'>，耦合性低</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2</span><span
style='font-family:宋体'>）只能用在</span><span lang=EN-US>Action</span><span
style='font-family:宋体'>对象的一个方法中。不能在所有方法中都是用同一个</span><span lang=EN-US>ActionContext</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<h2><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 6.3
</span><span style='font-family:宋体'>第三种方式</span><span lang=EN-US> </span></h2>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>使用</span><span lang=EN-US>&nbsp; RequestAware&nbsp;
,&nbsp;&nbsp; SessionAware&nbsp;&nbsp; ApplicationAware </span><span
style='font-family:宋体'>接口</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>注入操作对应域对象数据的</span><span lang=EN-US>Map</span><span
style='font-family:宋体'>集合</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>注意：</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1</span><span
style='font-family:宋体'>）不依赖</span><span lang=EN-US>servlet</span><span
style='font-family:宋体'>的</span><span lang=EN-US>api</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2</span><span
style='font-family:宋体'>）可以在</span><span lang=EN-US>Action</span><span
style='font-family:宋体'>对象的所有方法中共享</span><span lang=EN-US>Map</span><span
style='font-family:宋体'>集合</span></p>

<h1><span lang=EN-US>7</span><span style='font-family:宋体'>请求参数数据的封装</span></h1>

<h2><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 7.1
</span><span style='font-family:宋体'>直接赋值给简单数据类型</span></h2>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none'>
 <tr>
  <td width=712 valign=top style='width:534.1pt;border:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>public</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'> </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>class</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'> <u>UserAction</u> </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>extends</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'> ActionSupport{</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp; </span><span
  lang=EN-US style='font-family:"Courier New";color:#3F7F5F'>//</span><span
  style='font-family:宋体;color:#3F7F5F'>参数赋值（注入方式）</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp; </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>private</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'> String </span><span
  lang=EN-US style='font-family:"Courier New";color:#0000C0'>name</span><span
  lang=EN-US style='font-family:"Courier New";color:black'>;</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp; </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>private</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'> String </span><span
  lang=EN-US style='font-family:"Courier New";color:#0000C0'>password</span><span
  lang=EN-US style='font-family:"Courier New";color:black'>;</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp; </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>private</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'> String </span><span
  lang=EN-US style='font-family:"Courier New";color:#0000C0'>gender</span><span
  lang=EN-US style='font-family:"Courier New";color:black'>;</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp; </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>private</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'> String[] </span><span
  lang=EN-US style='font-family:"Courier New";color:#0000C0'>hobit</span><span
  lang=EN-US style='font-family:"Courier New";color:black'>;</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp; </span><span
  lang=EN-US style='font-family:"Courier New";color:#3F7F5F'>//</span><span
  style='font-family:宋体;color:#3F7F5F'>参数通过这个</span><span lang=EN-US
  style='font-family:"Courier New";color:#3F7F5F'>set</span><span
  style='font-family:宋体;color:#3F7F5F'>方法注入到</span><span lang=EN-US
  style='font-family:"Courier New";color:#3F7F5F'>Action</span><span
  style='font-family:宋体;color:#3F7F5F'>中</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp; </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>public</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'> </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>void</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'> setName(String
  name) {</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>this</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'>.</span><span
  lang=EN-US style='font-family:"Courier New";color:#0000C0'>name</span><span
  lang=EN-US style='font-family:"Courier New";color:black'> = name;</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp; }</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp; </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>public</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'> </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>void</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'> setPassword(String
  password) {</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>this</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'>.</span><span
  lang=EN-US style='font-family:"Courier New";color:#0000C0'>password</span><span
  lang=EN-US style='font-family:"Courier New";color:black'> = password;</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp; }</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp; </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>public</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'> </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>void</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'> setGender(String
  gender) {</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>this</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'>.</span><span
  lang=EN-US style='font-family:"Courier New";color:#0000C0'>gender</span><span
  lang=EN-US style='font-family:"Courier New";color:black'> = gender;</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp; }</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp; </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>public</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'> </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>void</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'> setHobit(String[]
  hobit) {</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>this</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'>.</span><span
  lang=EN-US style='font-family:"Courier New";color:#0000C0'>hobit</span><span
  lang=EN-US style='font-family:"Courier New";color:black'> = hobit;</span></p>
  <p class=MsoNormal><span lang=EN-US style='font-family:"Courier New";
  color:black'>&nbsp;&nbsp; }</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h2><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 7.2
</span><span style='font-family:宋体'>赋值给一个</span><span lang=EN-US>javabean</span><span
style='font-family:宋体'>对象</span></h2>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none'>
 <tr>
  <td width=712 valign=top style='width:534.1pt;border:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:teal'>&lt;</span><span
  lang=EN-US style='font-family:"Courier New";color:#3F7F7F;background:silver'>form</span><span
  lang=EN-US style='font-family:"Courier New"'> <span style='color:#7F007F'>action</span><span
  style='color:black'>=</span><i><span style='color:#2A00FF'>&quot;</span></i><span
  style='color:black'>${pageContext.request.contextPath }</span><i><span
  style='color:#2A00FF'>/data/user_register.action&quot;</span></i> <span
  style='color:#7F007F'>method</span><span style='color:black'>=</span><i><span
  style='color:#2A00FF'>&quot;post&quot;</span></i><span style='color:teal'>&gt;</span></span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; </span><span
  style='font-family:宋体;color:black'>用户名：</span><span style='font-family:"Courier New";
  color:black'> </span><span lang=EN-US style='font-family:"Courier New";
  color:teal'>&lt;</span><span lang=EN-US style='font-family:"Courier New";
  color:#3F7F7F'>input</span><span lang=EN-US style='font-family:"Courier New"'>
  <span style='color:#7F007F'>type</span><span style='color:black'>=</span><i><span
  style='color:#2A00FF'>&quot;text&quot;</span></i> <span style='color:#7F007F'>name</span><span
  style='color:black'>=</span><i><span style='color:#2A00FF'>&quot;</span><span
  style='color:red'>user.name</span><span style='color:#2A00FF'>&quot;</span></i><span
  style='color:teal'>/&gt;&lt;</span><span style='color:#3F7F7F'>br</span><span
  style='color:teal'>/&gt;</span></span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; </span><span
  style='font-family:宋体;color:black'>密码：</span><span style='font-family:"Courier New";
  color:black'> </span><span lang=EN-US style='font-family:"Courier New";
  color:teal'>&lt;</span><span lang=EN-US style='font-family:"Courier New";
  color:#3F7F7F'>input</span><span lang=EN-US style='font-family:"Courier New"'>
  <span style='color:#7F007F'>type</span><span style='color:black'>=</span><i><span
  style='color:#2A00FF'>&quot;password&quot;</span></i> <span style='color:
  #7F007F'>name</span><span style='color:black'>=</span><i><span
  style='color:red'>&quot;user.password</span><span style='color:#2A00FF'>&quot;</span></i><span
  style='color:teal'>/&gt;&lt;</span><span style='color:#3F7F7F'>br</span><span
  style='color:teal'>/&gt;</span></span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; </span><span
  style='font-family:宋体;color:black'>性别：</span><span style='font-family:"Courier New";
  color:black'> </span><span lang=EN-US style='font-family:"Courier New";
  color:teal'>&lt;</span><span lang=EN-US style='font-family:"Courier New";
  color:#3F7F7F'>input</span><span lang=EN-US style='font-family:"Courier New"'>
  <span style='color:#7F007F'>type</span><span style='color:black'>=</span><i><span
  style='color:#2A00FF'>&quot;radio&quot;</span></i> <span style='color:#7F007F'>name</span><span
  style='color:black'>=</span><i><span style='color:#2A00FF'>&quot;user.gender&quot;</span></i>
  <span style='color:#7F007F'>value</span><span style='color:black'>=</span><i><span
  style='color:#2A00FF'>&quot;</span></i></span><i><span style='font-family:
  宋体;color:#2A00FF'>男</span></i><i><span lang=EN-US style='font-family:"Courier New";
  color:#2A00FF'>&quot;</span></i><span lang=EN-US style='font-family:"Courier New";
  color:teal'>/&gt;</span><span style='font-family:宋体;color:black'>男</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;</span><span
  lang=EN-US style='font-family:"Courier New";color:teal'>&lt;</span><span
  lang=EN-US style='font-family:"Courier New";color:#3F7F7F'>input</span><span
  lang=EN-US style='font-family:"Courier New"'> <span style='color:#7F007F'>type</span><span
  style='color:black'>=</span><i><span style='color:#2A00FF'>&quot;radio&quot;</span></i>
  <span style='color:#7F007F'>name</span><span style='color:black'>=</span><i><span
  style='color:#2A00FF'>&quot;user.gender&quot;</span></i> <span
  style='color:#7F007F'>value</span><span style='color:black'>=</span><i><span
  style='color:#2A00FF'>&quot;</span></i></span><i><span style='font-family:
  宋体;color:#2A00FF'>女</span></i><i><span lang=EN-US style='font-family:"Courier New";
  color:#2A00FF'>&quot;</span></i><span lang=EN-US style='font-family:"Courier New";
  color:teal'>/&gt;</span><span style='font-family:宋体;color:black'>女</span><span
  lang=EN-US style='font-family:"Courier New";color:teal'>&lt;</span><span
  lang=EN-US style='font-family:"Courier New";color:#3F7F7F'>br</span><span
  lang=EN-US style='font-family:"Courier New";color:teal'>/&gt;</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; </span><span
  style='font-family:宋体;color:black'>爱好：</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; </span><span
  lang=EN-US style='font-family:"Courier New";color:teal'>&lt;</span><span
  lang=EN-US style='font-family:"Courier New";color:#3F7F7F'>input</span><span
  lang=EN-US style='font-family:"Courier New"'> <span style='color:#7F007F'>type</span><span
  style='color:black'>=</span><i><span style='color:#2A00FF'>&quot;checkbox&quot;</span></i>
  <span style='color:#7F007F'>name</span><span style='color:black'>=</span><i><span
  style='color:#2A00FF'>&quot;user.hobit&quot;</span></i> <span
  style='color:#7F007F'>value</span><span style='color:black'>=</span><i><span
  style='color:#2A00FF'>&quot;</span></i></span><i><span style='font-family:
  宋体;color:#2A00FF'>篮球</span></i><i><span lang=EN-US style='font-family:"Courier New";
  color:#2A00FF'>&quot;</span></i><span lang=EN-US style='font-family:"Courier New";
  color:teal'>/&gt;</span><span style='font-family:宋体;color:black'>篮球</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; </span><span
  lang=EN-US style='font-family:"Courier New";color:teal'>&lt;</span><span
  lang=EN-US style='font-family:"Courier New";color:#3F7F7F'>input</span><span
  lang=EN-US style='font-family:"Courier New"'> <span style='color:#7F007F'>type</span><span
  style='color:black'>=</span><i><span style='color:#2A00FF'>&quot;checkbox&quot;</span></i>
  <span style='color:#7F007F'>name</span><span style='color:black'>=</span><i><span
  style='color:#2A00FF'>&quot;user.hobit&quot;</span></i> <span
  style='color:#7F007F'>value</span><span style='color:black'>=</span><i><span
  style='color:#2A00FF'>&quot;</span></i></span><i><span style='font-family:
  宋体;color:#2A00FF'>足球</span></i><i><span lang=EN-US style='font-family:"Courier New";
  color:#2A00FF'>&quot;</span></i><span lang=EN-US style='font-family:"Courier New";
  color:teal'>/&gt;</span><span style='font-family:宋体;color:black'>足球</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; </span><span
  lang=EN-US style='font-family:"Courier New";color:teal'>&lt;</span><span
  lang=EN-US style='font-family:"Courier New";color:#3F7F7F'>input</span><span
  lang=EN-US style='font-family:"Courier New"'> <span style='color:#7F007F'>type</span><span
  style='color:black'>=</span><i><span style='color:#2A00FF'>&quot;checkbox&quot;</span></i>
  <span style='color:#7F007F'>name</span><span style='color:black'>=</span><i><span
  style='color:#2A00FF'>&quot;user.hobit&quot;</span></i> <span
  style='color:#7F007F'>value</span><span style='color:black'>=</span><i><span
  style='color:#2A00FF'>&quot;</span></i></span><i><span style='font-family:
  宋体;color:#2A00FF'>羽毛球</span></i><i><span lang=EN-US style='font-family:"Courier New";
  color:#2A00FF'>&quot;</span></i><span lang=EN-US style='font-family:"Courier New";
  color:teal'>/&gt;</span><span style='font-family:宋体;color:black'>羽毛球</span><span
  lang=EN-US style='font-family:"Courier New";color:teal'>&lt;</span><span
  lang=EN-US style='font-family:"Courier New";color:#3F7F7F'>br</span><span
  lang=EN-US style='font-family:"Courier New";color:teal'>/&gt;</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; </span><span
  lang=EN-US style='font-family:"Courier New";color:teal'>&lt;</span><span
  lang=EN-US style='font-family:"Courier New";color:#3F7F7F'>input</span><span
  lang=EN-US style='font-family:"Courier New"'> <span style='color:#7F007F'>type</span><span
  style='color:black'>=</span><i><span style='color:#2A00FF'>&quot;submit&quot;</span></i>
  <span style='color:#7F007F'>value</span><span style='color:black'>=</span><i><span
  style='color:#2A00FF'>&quot;</span></i></span><i><span style='font-family:
  宋体;color:#2A00FF'>注册</span></i><i><span lang=EN-US style='font-family:"Courier New";
  color:#2A00FF'>&quot;</span></i><span lang=EN-US style='font-family:"Courier New";
  color:teal'>/&gt;</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;</span></p>
  <p class=MsoNormal><span lang=EN-US style='font-family:"Courier New";
  color:black'>&nbsp;&nbsp;&nbsp; </span><span lang=EN-US style='font-family:
  "Courier New";color:teal'>&lt;/</span><span lang=EN-US style='font-family:
  "Courier New";color:#3F7F7F;background:silver'>form</span><span lang=EN-US
  style='font-family:"Courier New";color:teal'>&gt;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none'>
 <tr>
  <td width=712 valign=top style='width:534.1pt;border:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>public</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'> </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>class</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'> <u>UserAction2</u> </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>extends</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'> ActionSupport{</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp; </span><span
  lang=EN-US style='font-family:"Courier New";color:#3F7F5F'>//</span><span
  style='font-family:宋体;color:#3F7F5F'>使用一个</span><u><span lang=EN-US
  style='font-family:"Courier New";color:#3F7F5F'>javabean</span></u><span
  style='font-family:宋体;color:#3F7F5F'>对象接收</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp; </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>private</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'> User </span><span
  lang=EN-US style='font-family:"Courier New";color:red'>user</span><span
  lang=EN-US style='font-family:"Courier New";color:black'>;</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp; </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>public</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'> User getUser() {</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>return</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'> </span><span
  lang=EN-US style='font-family:"Courier New";color:#0000C0'>user</span><span
  lang=EN-US style='font-family:"Courier New";color:black'>;</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp; }</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp; </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>public</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'> </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>void</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'> setUser(User user)
  {</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>this</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'>.</span><span
  lang=EN-US style='font-family:"Courier New";color:#0000C0'>user</span><span
  lang=EN-US style='font-family:"Courier New";color:black'> = user;</span></p>
  <p class=MsoNormal><span lang=EN-US style='font-family:"Courier New";
  color:black'>&nbsp;&nbsp; }</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>注意：请求参数的封装通过</span><span lang=EN-US>struts2</span><span
style='font-family:宋体'>的</span><span lang=EN-US>ParametersInterceptor</span><span
style='font-family:宋体'>拦截器进行赋值</span><span lang=EN-US>.</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h1><span lang=EN-US>8 </span><span style='font-family:宋体'>自定义类型转换</span></h1>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>作用：</span> <span style='font-family:宋体'>默认情况下，页面的日期类型只能接收</span>
<span lang=EN-US style='color:red'>yyyy-MM-dd</span><span style='font-family:
宋体'>类型，如果要转换</span><span lang=EN-US>yyyy/MM/dd</span><span style='font-family:
宋体'>这种类型，则需要使用自定义类型转换器进行转换。</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; strut2</span><span
style='font-family:宋体'>提供了自定义类型转换器的基类：</span> <span lang=EN-US
style='color:red'>StrutsTypeConverter</span><span style='font-family:宋体'>类</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none'>
 <tr>
  <td width=712 valign=top style='width:534.1pt;border:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'>/**</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'>&nbsp;* </span><span
  style='font-family:宋体;color:#3F5FBF'>自定义日期类型转换器</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'>&nbsp;* </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F9FBF'>@author</span></b><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'> APPle</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'>&nbsp;*</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'>&nbsp;*/</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>public</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'> </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>class</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'> MyDateConverter </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>extends</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'>
  StrutsTypeConverter{</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp; </span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp; SimpleDateFormat
  </span><span lang=EN-US style='font-family:"Courier New";color:#0000C0'>sdf1</span><span
  lang=EN-US style='font-family:"Courier New";color:black'> = </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>new</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'> SimpleDateFormat(</span><span
  lang=EN-US style='font-family:"Courier New";color:#2A00FF'>&quot;yyyy/MM/dd&quot;</span><span
  lang=EN-US style='font-family:"Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New"'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp; </span><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'>/**</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'>&nbsp;&nbsp; &nbsp;*
  </span><span style='font-family:宋体;color:#3F5FBF'>从页面的数据到服务器的类型转换</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'>&nbsp;&nbsp; &nbsp;*
  </span><span style='font-family:宋体;color:#3F5FBF'>参数一：</span><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'> context</span><span
  style='font-family:宋体;color:#3F5FBF'>：</span><span style='font-family:"Courier New";
  color:#3F5FBF'> </span><span style='font-family:宋体;color:#3F5FBF'>值栈上下文对象</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'>&nbsp;&nbsp; &nbsp;*
  </span><span style='font-family:宋体;color:#3F5FBF'>参数二：</span><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'> values:&nbsp; </span><span
  style='font-family:宋体;color:#3F5FBF'>从页面传递过来的参数值</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'>&nbsp;&nbsp; &nbsp;*
  </span><span style='font-family:宋体;color:#3F5FBF'>参数三：</span><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'> toClass: </span><span
  style='font-family:宋体;color:#3F5FBF'>转换到的类型。</span><span lang=EN-US
  style='font-family:"Courier New";color:#3F5FBF'>String</span><span
  lang=EN-US style='font-family:"Courier New";color:#7F7F9F'>-&gt;</span><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'>java.util.Date</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'>&nbsp;&nbsp; &nbsp;*/</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp; </span><span
  lang=EN-US style='font-family:"Courier New";color:#646464'>@Override</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp; </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>public</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'> Object
  convertFromString(<u>Map</u> context, String[] values, <u>Class</u> toClass)
  {</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System.</span><i><span
  lang=EN-US style='font-family:"Courier New";color:#0000C0'>out</span></i><span
  lang=EN-US style='font-family:"Courier New";color:black'>.println(</span><span
  lang=EN-US style='font-family:"Courier New";color:#2A00FF'>&quot;</span><span
  style='font-family:宋体;color:#2A00FF'>进入了转换器</span><span lang=EN-US
  style='font-family:"Courier New";color:#2A00FF'>&quot;</span><span
  lang=EN-US style='font-family:"Courier New";color:black'>);</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>try</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'> {</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
  lang=EN-US style='font-family:"Courier New";color:#3F7F5F'>//1)</span><span
  style='font-family:宋体;color:#3F7F5F'>判断</span><span lang=EN-US
  style='font-family:"Courier New";color:#3F7F5F'>values</span><span
  style='font-family:宋体;color:#3F7F5F'>是否为空</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>if</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'>(values==</span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>null</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'> || values.</span><span
  lang=EN-US style='font-family:"Courier New";color:#0000C0'>length</span><span
  lang=EN-US style='font-family:"Courier New";color:black'>==0){</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>return</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'> </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>null</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'>;</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>if</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'>(values.</span><span
  lang=EN-US style='font-family:"Courier New";color:#0000C0'>length</span><span
  lang=EN-US style='font-family:"Courier New";color:black'>&gt;1){</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
  lang=EN-US style='font-family:"Courier New";color:#3F7F5F'>//</span><span
  style='font-family:宋体;color:#3F7F5F'>多个值的情况</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Date[]
  <span style='background:yellow'>dates</span> = </span><b><span lang=EN-US
  style='font-family:"Courier New";color:#7F0055'>new</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'> Date[values.</span><span
  lang=EN-US style='font-family:"Courier New";color:#0000C0'>length</span><span
  lang=EN-US style='font-family:"Courier New";color:black'>];</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
  lang=EN-US style='font-family:"Courier New";color:#3F7F5F'>//2)</span><span
  style='font-family:宋体;color:#3F7F5F'>取出数据进行转换</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>for</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'>(</span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>int</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'> i=0;i&lt;<span
  style='background:silver'>dates</span>.</span><span lang=EN-US
  style='font-family:"Courier New";color:#0000C0'>length</span><span
  lang=EN-US style='font-family:"Courier New";color:black'>;i++){</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Date
  date = </span><span lang=EN-US style='font-family:"Courier New";color:#0000C0'>sdf1</span><span
  lang=EN-US style='font-family:"Courier New";color:black'>.parse(values[i]);</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
  style='background:silver'>dates</span>[i] = date;</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>return</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'> <span
  style='background:silver'>dates</span>;</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>else</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'>{</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
  lang=EN-US style='font-family:"Courier New";color:#3F7F5F'>//</span><span
  style='font-family:宋体;color:#3F7F5F'>一个值的情况</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Date
  date = </span><span lang=EN-US style='font-family:"Courier New";color:#0000C0'>sdf1</span><span
  lang=EN-US style='font-family:"Courier New";color:black'>.parse(values[0]);</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>return</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'> date;</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }
  </span><b><span lang=EN-US style='font-family:"Courier New";color:#7F0055'>catch</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'> (ParseException e)
  {</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; e.printStackTrace();</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>return</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'> </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>null</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'>;</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp; }</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp; </span><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'>/**</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'>&nbsp;&nbsp; &nbsp;*
  </span><span style='font-family:宋体;color:#3F5FBF'>从服务器到页面的类型转换</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'>&nbsp;&nbsp; &nbsp;*/</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp; </span><span
  lang=EN-US style='font-family:"Courier New";color:#646464'>@Override</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp; </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>public</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'> String
  convertToString(<u>Map</u> context, Object o) {</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>return</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'> </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>null</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'>;</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp; }</span></p>
  <p class=MsoNormal><span lang=EN-US style='font-family:"Courier New";
  color:black'>}</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><span
style='font-family:宋体'>绑定自定义转换器的方式：</span></b></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>方式一：</span> <span style='font-family:宋体'>局部绑定</span><span
lang=EN-US>(</span><span style='font-family:宋体'>只能绑定一个</span><span lang=EN-US>Action)</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1</span><span
style='font-family:宋体'>）建立一个</span><span lang=EN-US> Action</span><span
style='font-family:宋体'>的文件名</span><span lang=EN-US>-conversion.properties</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2</span><span
style='font-family:宋体'>）一定和绑定的</span><span lang=EN-US>Action</span><span
style='font-family:宋体'>放在同一个目录下。</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none'>
 <tr>
  <td width=712 valign=top style='width:534.1pt;border:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>user.birth=gz.itcast.g_convert.MyDateConverter</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>方式二：</span> <span style='font-family:宋体'>全局绑定（绑定整个项目多个</span><span
lang=EN-US>Action</span><span style='font-family:宋体'>）（推荐使用）</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1</span><span
style='font-family:宋体'>）建立一个</span><span lang=EN-US>xwork-conversion.properties</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2</span><span
style='font-family:宋体'>）该文件一定放在</span><span lang=EN-US>src</span><span
style='font-family:宋体'>目录下。</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none'>
 <tr>
  <td width=712 valign=top style='width:534.1pt;border:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span lang=EN-US>java.util.Date=gz.itcast.g_convert.MyDateConverter</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h1><span lang=EN-US>9</span><span style='font-family:宋体'>文件上传和下载</span></h1>

<h2><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 9.1
</span><span style='font-family:宋体'>文件上传</span></h2>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1</span><span
style='font-family:宋体'>）三个条件：</span><span lang=EN-US> </span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>表单有</span><span lang=EN-US>file</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; post</span><span
style='font-family:宋体'>提交</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; enctype=&quot;multipart/form-data&quot;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2)</span><span
style='font-family:宋体'>在</span><span lang=EN-US>Action</span><span
style='font-family:宋体'>中接收文件内容</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; File
attach;&nbsp;&nbsp; (attach</span><span style='font-family:宋体'>是</span><span
lang=EN-US>file</span><span style='font-family:宋体'>表单的</span><span lang=EN-US>name</span><span
style='font-family:宋体'>属性</span><span lang=EN-US>)</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String
attachContentType;&nbsp; </span><span style='font-family:宋体'>文件类型</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String
attachFileName;&nbsp;&nbsp; </span><span style='font-family:宋体'>文件名称</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>细节：</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>修改上传大小</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none'>
 <tr>
  <td width=712 valign=top style='width:534.1pt;border:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-size:14.0pt;font-family:"Courier New";color:black'>&nbsp;&nbsp; </span><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'>&lt;!-- </span><span
  style='font-family:宋体;color:#3F5FBF'>修改默认文件上传大小</span><span lang=EN-US
  style='font-family:"Courier New";color:#3F5FBF'> --&gt;</span></p>
  <p class=MsoNormal><span lang=EN-US style='font-family:"Courier New";
  color:black'>&nbsp;&nbsp; </span><span lang=EN-US style='font-family:"Courier New";
  color:teal'>&lt;</span><span lang=EN-US style='font-family:"Courier New";
  color:#3F7F7F'>constant</span><span lang=EN-US style='font-family:"Courier New"'>
  <span style='color:#7F007F'>name</span><span style='color:black'>=</span><i><span
  style='color:#2A00FF'>&quot;struts.multipart.maxSize&quot;</span></i> <span
  style='color:#7F007F'>value</span><span style='color:black'>=</span><i><span
  style='color:#2A00FF'>&quot;100000000&quot;</span></i><span style='color:
  teal'>&gt;&lt;/</span><span style='color:#3F7F7F'>constant</span><span
  style='color:teal'>&gt;</span></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>修改允许上传的文件类型和文件后缀</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none'>
 <tr>
  <td width=712 valign=top style='width:534.1pt;border:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:teal'>&lt;</span><span
  lang=EN-US style='font-family:"Courier New";color:#3F7F7F'>action</span><span
  lang=EN-US style='font-family:"Courier New"'> <span style='color:#7F007F'>name</span><span
  style='color:black'>=</span><i><span style='color:#2A00FF'>&quot;upload&quot;</span></i>
  <span style='color:#7F007F'>class</span><span style='color:black'>=</span><i><span
  style='color:#2A00FF'>&quot;gz.itcast.h_upload_down.UploadAction&quot;</span></i>
  <span style='color:teal'>&gt;</span></span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'>&lt;!-- </span><span
  style='font-family:宋体;color:#3F5FBF'>往</span><span lang=EN-US
  style='font-family:"Courier New";color:#3F5FBF'>FileUploadInterceptor</span><span
  style='font-family:宋体;color:#3F5FBF'>拦截器的属性注入值（调用</span><span lang=EN-US
  style='font-family:"Courier New";color:#3F5FBF'>setter</span><span
  style='font-family:宋体;color:#3F5FBF'>方法）</span><span lang=EN-US
  style='font-family:"Courier New";color:#3F5FBF'> --&gt;</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; </span><span
  lang=EN-US style='font-family:"Courier New";color:red'>&lt;interceptor-ref
  name=<i>&quot;defaultStack&quot;</i>&gt;</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;!--
  </span><span style='font-family:宋体;color:red'>改变当前文件上传拦截器的允许文件类型</span><span
  lang=EN-US style='font-family:"Courier New";color:red'> --&gt;</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;param
  name=<i>&quot;fileUpload.allowedTypes&quot;</i>&gt;image/<u>jpeg</u>,image/<u>jpg</u>&lt;/param&gt;</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;!--
  </span><span style='font-family:宋体;color:red'>允许的文件后缀</span><span lang=EN-US
  style='font-family:"Courier New";color:red'> --&gt;</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;param
  name=<i>&quot;fileUpload.allowedExtensions&quot;</i>&gt;<u>jpg</u>,<u>jpeg</u>,<u>gif</u>&lt;/param&gt;</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;!--
  </span><span style='font-family:宋体;color:red'>如果以上配置都写了</span><span
  lang=EN-US style='font-family:"Courier New";color:red'>,</span><span
  style='font-family:宋体;color:red'>那么取他们的交集</span><span lang=EN-US
  style='font-family:"Courier New";color:red'>&nbsp; --&gt;</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &lt;/interceptor-ref&gt;</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; </span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
  lang=EN-US style='font-family:"Courier New";color:teal'>&lt;</span><span
  lang=EN-US style='font-family:"Courier New";color:#3F7F7F'>param</span><span
  lang=EN-US style='font-family:"Courier New"'> <span style='color:#7F007F'>name</span><span
  style='color:black'>=</span><i><span style='color:#2A00FF'>&quot;savePath&quot;</span></i><span
  style='color:teal'>&gt;</span><span style='color:black'>e:/images/</span><span
  style='color:teal'>&lt;/</span><span style='color:#3F7F7F'>param</span><span
  style='color:teal'>&gt;</span></span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
  lang=EN-US style='font-family:"Courier New";color:teal'>&lt;</span><span
  lang=EN-US style='font-family:"Courier New";color:#3F7F7F'>result</span><span
  lang=EN-US style='font-family:"Courier New";color:teal'>&gt;</span><span
  lang=EN-US style='font-family:"Courier New";color:black'>/login.jsp</span><span
  lang=EN-US style='font-family:"Courier New";color:teal'>&lt;/</span><span
  lang=EN-US style='font-family:"Courier New";color:#3F7F7F'>result</span><span
  lang=EN-US style='font-family:"Courier New";color:teal'>&gt;</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
  lang=EN-US style='font-family:"Courier New";color:teal'>&lt;</span><span
  lang=EN-US style='font-family:"Courier New";color:#3F7F7F'>result</span><span
  lang=EN-US style='font-family:"Courier New"'> <span style='color:#7F007F'>name</span><span
  style='color:black'>=</span><i><span style='color:#2A00FF'>&quot;input&quot;</span></i><span
  style='color:teal'>&gt;</span><span style='color:black'>/error.jsp</span><span
  style='color:teal'>&lt;/</span><span style='color:#3F7F7F'>result</span><span
  style='color:teal'>&gt;</span></span></p>
  <p class=MsoNormal><span lang=EN-US style='font-family:"Courier New";
  color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
  lang=EN-US style='font-family:"Courier New";color:teal'>&lt;/</span><span
  lang=EN-US style='font-family:"Courier New";color:#3F7F7F'>action</span><span
  lang=EN-US style='font-family:"Courier New";color:teal'>&gt;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h2><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 9.2
</span><span style='font-family:宋体'>文件下载</span></h2>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>视图类型一定是</span><span lang=EN-US>stream</span><span
style='font-family:宋体'>类型</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none'>
 <tr>
  <td width=712 valign=top style='width:534.1pt;border:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:teal'>&lt;</span><span
  lang=EN-US style='font-family:"Courier New";color:#3F7F7F'>action</span><span
  lang=EN-US style='font-family:"Courier New"'> <span style='color:#7F007F'>name</span><span
  style='color:black'>=</span><i><span style='color:#2A00FF'>&quot;down_*&quot;</span></i>
  <span style='color:#7F007F'>class</span><span style='color:black'>=</span><i><span
  style='color:#2A00FF'>&quot;gz.itcast.h_upload_down.DownAction&quot; </span></i><span
  style='color:#7F007F'>method</span><span style='color:black'>=</span><i><span
  style='color:#2A00FF'>&quot;{1}&quot;</span></i><span style='color:teal'>&gt;</span></span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
  lang=EN-US style='font-family:"Courier New";color:teal'>&lt;</span><span
  lang=EN-US style='font-family:"Courier New";color:#3F7F7F'>param</span><span
  lang=EN-US style='font-family:"Courier New"'> <span style='color:#7F007F'>name</span><span
  style='color:black'>=</span><i><span style='color:#2A00FF'>&quot;serverPath&quot;</span></i><span
  style='color:teal'>&gt;</span><span style='color:black'>e:/images/</span><span
  style='color:teal'>&lt;/</span><span style='color:#3F7F7F'>param</span><span
  style='color:teal'>&gt;</span></span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
  lang=EN-US style='font-family:"Courier New";color:teal'>&lt;</span><span
  lang=EN-US style='font-family:"Courier New";color:#3F7F7F'>result</span><span
  lang=EN-US style='font-family:"Courier New"'> <span style='color:#7F007F'>name</span><span
  style='color:black'>=</span><i><span style='color:#2A00FF'>&quot;list&quot;</span></i><span
  style='color:teal'>&gt;</span><span style='color:black'>/listFile.jsp</span><span
  style='color:teal'>&lt;/</span><span style='color:#3F7F7F'>result</span><span
  style='color:teal'>&gt;</span></span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
  lang=EN-US style='font-family:"Courier New";color:#3F5FBF'>&lt;!-- </span><span
  style='font-family:宋体;color:#3F5FBF'>文件下载的关键</span><span lang=EN-US
  style='font-family:"Courier New";color:#3F5FBF'>: </span><span
  style='font-family:宋体;color:#3F5FBF'>视图类型一定是</span><span lang=EN-US
  style='font-family:"Courier New";color:#3F5FBF'>stream --&gt;</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
  lang=EN-US style='font-family:"Courier New";color:red'>&lt;result name=<i>&quot;down&quot;</i>
  type=<i>&quot;stream&quot;</i>&gt;</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&lt;!--&nbsp;
  </span><span style='font-family:宋体;color:red'>往</span><span lang=EN-US
  style='font-family:"Courier New";color:red'>StreamResult</span><span
  style='font-family:宋体;color:red'>类中的属性注入内容</span><span lang=EN-US
  style='font-family:"Courier New";color:red'> --&gt;</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&lt;!--
  </span><span style='font-family:宋体;color:red'>返回给浏览器的文件类型。返回通用的二进制</span><span
  lang=EN-US style='font-family:"Courier New";color:red'> --&gt;</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&lt;param
  name=<i>&quot;contentType&quot;</i>&gt;application/<u>octet</u>-stream&lt;/param&gt;</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:red'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&lt;!--
  </span><span style='font-family:宋体;color:red'>返回给浏览器的输入流</span><span
  lang=EN-US style='font-family:"Courier New";color:red'> --&gt;</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  style='position:absolute;z-index:251657216;margin-left:354px;margin-top:2459px;
  width:143px;height:382px'><img width=114 height=306
  src="29struts加强(上传与下载).files/image001.gif"></span><span lang=EN-US
  style='font-family:"Courier New";color:red'>&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&lt;param
  name=<i>&quot;inputName&quot;</i>&gt;inputStream&lt;/param&gt;</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:red'>&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&lt;!--&nbsp;
  </span><span style='font-family:宋体;color:red'>告诉浏览器的方式下载资源</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:red'>&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;${name}:
  </span><span style='font-family:宋体;color:red'>获取</span><span lang=EN-US
  style='font-family:"Courier New";color:red'>Action</span><span
  style='font-family:宋体;color:red'>中的</span><span lang=EN-US style='font-family:
  "Courier New";color:red'>getName()</span><span style='font-family:宋体;
  color:red'>方法的数据</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:red'>&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;--&gt;</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:red'>&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&lt;param
  name=<i>&quot;contentDisposition&quot;</i>&gt;attachment;filename=${name}&lt;/param&gt;</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  style='position:absolute;z-index:251658240;margin-left:191px;margin-top:2471px;
  width:340px;height:498px'><img width=272 height=398
  src="29struts加强(上传与下载).files/image002.gif"></span><span lang=EN-US
  style='font-family:"Courier New";color:red'>&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&lt;!--
  </span><span style='font-family:宋体;color:red'>缓存大小</span><span lang=EN-US
  style='font-family:"Courier New";color:red'> --&gt;</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:red'>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&lt;param
  name=<i>&quot;bufferSize&quot;</i>&gt;1024&lt;/param&gt;</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
  lang=EN-US style='font-family:"Courier New";color:teal'>&lt;/</span><span
  lang=EN-US style='font-family:"Courier New";color:#3F7F7F'>result</span><span
  lang=EN-US style='font-family:"Courier New";color:teal'>&gt;</span></p>
  <p class=MsoNormal><span lang=EN-US style='font-family:"Courier New";
  color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
  lang=EN-US style='font-family:"Courier New";color:teal'>&lt;/</span><span
  lang=EN-US style='font-family:"Courier New";color:#3F7F7F'>action</span><span
  lang=EN-US style='font-family:"Courier New";color:teal'>&gt;</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-family:宋体'>在</span><span lang=EN-US>Action</span><span
style='font-family:宋体'>对象中提供一个对应的获取输入流的方法</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none'>
 <tr>
  <td width=712 valign=top style='width:534.1pt;border:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp; </span><span
  lang=EN-US style='font-family:"Courier New";color:#3F7F5F'>//</span><span
  style='font-family:宋体;color:#3F7F5F'>需要提供给</span><span lang=EN-US
  style='font-family:"Courier New";color:#3F7F5F'>struts</span><span
  style='font-family:宋体;color:#3F7F5F'>写出数据的输入流</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp; </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>public</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'> InputStream get</span><span
  lang=EN-US style='font-family:"Courier New";color:red'>InputStream</span><span
  lang=EN-US style='font-family:"Courier New";color:black'>(){</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>try</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'> {</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FileInputStream
  fis = </span><b><span lang=EN-US style='font-family:"Courier New";color:#7F0055'>new</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'> FileInputStream(</span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>new</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'> File(</span><span
  lang=EN-US style='font-family:"Courier New";color:#0000C0'>serverPath</span><span
  lang=EN-US style='font-family:"Courier New";color:black'>+</span><span
  lang=EN-US style='font-family:"Courier New";color:#0000C0'>name</span><span
  lang=EN-US style='font-family:"Courier New";color:black'>));</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>return</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'> fis;</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }
  </span><b><span lang=EN-US style='font-family:"Courier New";color:#7F0055'>catch</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'>
  (FileNotFoundException e) {</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; e.<u>printStackTrace</u>();</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>throw</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'> </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>new</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'>
  RuntimeException(e);</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
  <p class=MsoNormal><span lang=EN-US style='font-family:"Courier New";
  color:black'>&nbsp;&nbsp; }</span></p>
  <p class=MsoNormal><span lang=EN-US style='font-family:"Courier New";
  color:black'>&nbsp;</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>public</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'> String getName() {</span></p>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:"Courier New";color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><span
  lang=EN-US style='font-family:"Courier New";color:#7F0055'>return</span></b><span
  lang=EN-US style='font-family:"Courier New";color:black'> </span><span
  lang=EN-US style='font-family:"Courier New";color:#0000C0'>name</span><span
  lang=EN-US style='font-family:"Courier New";color:black'>;</span></p>
  <p class=MsoNormal><span lang=EN-US style='font-family:"Courier New";
  color:black'>&nbsp;&nbsp; }</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

</div>

</body>

</html>
